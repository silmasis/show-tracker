{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\silma\\\\Documents\\\\Coding\\\\Side Projects\\\\show-tracker\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\silma\\\\Documents\\\\Coding\\\\Side Projects\\\\show-tracker\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\silma\\\\Documents\\\\Coding\\\\Side Projects\\\\show-tracker\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\silma\\\\Documents\\\\Coding\\\\Side Projects\\\\show-tracker\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\silma\\\\Documents\\\\Coding\\\\Side Projects\\\\show-tracker\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import axios from'axios';var Show=function Show(props){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,props.show.username),/*#__PURE__*/React.createElement(\"td\",null,props.show.title),/*#__PURE__*/React.createElement(\"td\",null,props.show.site),/*#__PURE__*/React.createElement(\"td\",null,props.show.episodes),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"/edit/\"+props.show._id},\"edit\"),\" | \",/*#__PURE__*/React.createElement(\"a\",{href:\"/\",onClick:function onClick(){props.deleteShow(props.show._id);}},\"delete\")));};var ShowsList=/*#__PURE__*/function(_Component){_inherits(ShowsList,_Component);var _super=_createSuper(ShowsList);function ShowsList(props){var _this;_classCallCheck(this,ShowsList);_this=_super.call(this,props);_this.deleteShow=_this.deleteShow.bind(_assertThisInitialized(_this));_this.state={shows:[]};return _this;}_createClass(ShowsList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('http://localhost:5000/shows/').then(function(response){_this2.setState({shows:response.data});}).catch(function(error){console.log(error);});}},{key:\"deleteShow\",value:function deleteShow(id){axios.delete('http://localhost:5000/shows/'+id).then(function(res){return console.log(res.data);});this.setState({shows:this.state.shows.filter(function(el){return el._id!==id;})});}},{key:\"showList\",value:function showList(){var _this3=this;return this.state.shows.map(function(currentshow){return/*#__PURE__*/React.createElement(Show,{show:currentshow,deleteShow:_this3.deleteShow,key:currentshow._id});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Recently Watched\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"thead-light\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Title\"),/*#__PURE__*/React.createElement(\"th\",null,\"Site\"),/*#__PURE__*/React.createElement(\"th\",null,\"Episodes\"),/*#__PURE__*/React.createElement(\"th\",null,\"Actions\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.showList())));}}]);return ShowsList;}(Component);export{ShowsList as default};","map":{"version":3,"sources":["C:/Users/silma/Documents/Coding/Side Projects/show-tracker/client/src/components/shows-list.component.js"],"names":["React","Component","Link","axios","Show","props","show","username","title","site","episodes","_id","deleteShow","ShowsList","bind","state","shows","get","then","response","setState","data","catch","error","console","log","id","delete","res","filter","el","map","currentshow","showList"],"mappings":"o9BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAAAC,KAAK,qBACd,2CACI,8BAAKA,KAAK,CAACC,IAAN,CAAWC,QAAhB,CADJ,cAEI,8BAAKF,KAAK,CAACC,IAAN,CAAWE,KAAhB,CAFJ,cAGI,8BAAKH,KAAK,CAACC,IAAN,CAAWG,IAAhB,CAHJ,cAII,8BAAKJ,KAAK,CAACC,IAAN,CAAWI,QAAhB,CAJJ,cAKI,2CACI,oBAAC,IAAD,EAAM,EAAE,CAAE,SAAWL,KAAK,CAACC,IAAN,CAAWK,GAAhC,SADJ,oBACuD,yBAAG,IAAI,CAAC,GAAR,CAAY,OAAO,CAAE,kBAAM,CAAEN,KAAK,CAACO,UAAN,CAAiBP,KAAK,CAACC,IAAN,CAAWK,GAA5B,EAAkC,CAA/D,WADvD,CALJ,CADc,EAAlB,C,GAYqBE,CAAAA,S,sGACjB,mBAAYR,KAAZ,CAAmB,2CACf,uBAAMA,KAAN,EAEA,MAAKO,UAAL,CAAkB,MAAKA,UAAL,CAAgBE,IAAhB,+BAAlB,CAEA,MAAKC,KAAL,CAAa,CAACC,KAAK,CAAE,EAAR,CAAb,CALe,aAMlB,C,mFAEmB,iBAChBb,KAAK,CAACc,GAAN,CAAU,8BAAV,EACKC,IADL,CACU,SAAAC,QAAQ,CAAI,CACd,MAAI,CAACC,QAAL,CAAc,CAACJ,KAAK,CAAEG,QAAQ,CAACE,IAAjB,CAAd,EACH,CAHL,EAIKC,KAJL,CAIW,SAACC,KAAD,CAAW,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACH,CANL,EAOH,C,8CAEUG,E,CAAI,CACXvB,KAAK,CAACwB,MAAN,CAAa,+BAAiCD,EAA9C,EACKR,IADL,CACU,SAAAU,GAAG,QAAIJ,CAAAA,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACP,IAAhB,CAAJ,EADb,EAGA,KAAKD,QAAL,CAAc,CACVJ,KAAK,CAAE,KAAKD,KAAL,CAAWC,KAAX,CAAiBa,MAAjB,CAAwB,SAAAC,EAAE,QAAIA,CAAAA,EAAE,CAACnB,GAAH,GAAWe,EAAf,EAA1B,CADG,CAAd,EAGH,C,2CAEU,iBACP,MAAO,MAAKX,KAAL,CAAWC,KAAX,CAAiBe,GAAjB,CAAqB,SAAAC,WAAW,CAAI,CACvC,mBAAO,oBAAC,IAAD,EAAM,IAAI,CAAEA,WAAZ,CAAyB,UAAU,CAAE,MAAI,CAACpB,UAA1C,CAAsD,GAAG,CAAEoB,WAAW,CAACrB,GAAvE,EAAP,CACH,CAFM,CAAP,CAGH,C,uCAEQ,CACL,mBACI,4CACI,iDADJ,cAEI,6BAAO,SAAS,CAAC,OAAjB,eACI,6BAAO,SAAS,CAAC,aAAjB,eACI,2CACI,qCADJ,cAEI,sCAFJ,cAGI,qCAHJ,cAII,yCAJJ,cAKI,wCALJ,CADJ,CADJ,cAUI,iCACM,KAAKsB,QAAL,EADN,CAVJ,CAFJ,CADJ,CAmBH,C,uBAtDkChC,S,SAAlBY,S","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst Show = props => (\r\n    <tr>\r\n        <td>{props.show.username}</td>\r\n        <td>{props.show.title}</td>\r\n        <td>{props.show.site}</td>\r\n        <td>{props.show.episodes}</td>\r\n        <td>\r\n            <Link to={\"/edit/\" + props.show._id}>edit</Link> | <a href=\"/\" onClick={() => { props.deleteShow(props.show._id) }}>delete</a>\r\n        </td>\r\n    </tr>\r\n)\r\n\r\nexport default class ShowsList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.deleteShow = this.deleteShow.bind(this);\r\n\r\n        this.state = {shows: []};\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('http://localhost:5000/shows/')\r\n            .then(response => {\r\n                this.setState({shows: response.data})\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n    deleteShow(id) {\r\n        axios.delete('http://localhost:5000/shows/' + id)\r\n            .then(res => console.log(res.data));\r\n\r\n        this.setState({\r\n            shows: this.state.shows.filter(el => el._id !== id)\r\n        })\r\n    }\r\n\r\n    showList() {\r\n        return this.state.shows.map(currentshow => {\r\n            return <Show show={currentshow} deleteShow={this.deleteShow} key={currentshow._id} />;\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h3>Recently Watched</h3>\r\n                <table className=\"table\">\r\n                    <thead className=\"thead-light\">\r\n                        <tr>\r\n                            <th>Name</th>\r\n                            <th>Title</th>\r\n                            <th>Site</th>\r\n                            <th>Episodes</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        { this.showList() }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}